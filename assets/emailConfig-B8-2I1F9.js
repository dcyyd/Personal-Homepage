class e{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},i=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},r=async(i,r,a={})=>{const o=await fetch(t.origin+i,{method:"POST",headers:a,body:r}),s=await o.text(),n=new e(o.status,s);if(o.ok)return n;throw n},a=(e,t,i)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||"string"!=typeof i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},o=e=>e.webdriver||!e.languages||0===e.languages.length,s=()=>new e(451,"Unavailable For Headless Browser"),n=(e,t)=>{if((e=>{var t;return!(null==(t=e.list)?void 0:t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const i=(r=t,a=e.watchVariable,r instanceof FormData?r.get(a):r[a]);var r,a;return"string"==typeof i&&e.list.includes(i)},l=()=>new e(403,"Forbidden"),c=async(e,t,i)=>{if(!t.throttle||!i)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,a=await(async(e,t,i)=>{const r=Number(await i.get(e)||0);return t-Date.now()+r})(r,t.throttle,i);return a>0||(await i.set(r,Date.now().toString()),!1)},m=()=>new e(429,"Too Many Requests"),d={init:(e,r="https://api.emailjs.com")=>{if(!e)return;const a=i(e);t.publicKey=a.publicKey,t.blockHeadless=a.blockHeadless,t.storageProvider=a.storageProvider,t.blockList=a.blockList,t.limitRate=a.limitRate,t.origin=a.origin||r},send:async(e,d,p,h)=>{const b=i(h),u=b.publicKey||t.publicKey,g=b.blockHeadless||t.blockHeadless,f=b.storageProvider||t.storageProvider,y={...t.blockList,...b.blockList},w={...t.limitRate,...b.limitRate};if(g&&o(navigator))return Promise.reject(s());if(a(u,e,d),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(p),p&&n(y,p))return Promise.reject(l());if(await c(location.pathname,w,f))return Promise.reject(m());const v={lib_version:"4.4.1",user_id:u,service_id:e,template_id:d,template_params:p};return r("/api/v1.0/email/send",JSON.stringify(v),{"Content-type":"application/json"})},sendForm:async(e,d,p,h)=>{const b=i(h),u=b.publicKey||t.publicKey,g=b.blockHeadless||t.blockHeadless,f=t.storageProvider||b.storageProvider,y={...t.blockList,...b.blockList},w={...t.limitRate,...b.limitRate};if(g&&o(navigator))return Promise.reject(s());const v=(e=>"string"==typeof e?document.querySelector(e):e)(p);a(u,e,d),(e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(v);const k=new FormData(v);return n(y,k)?Promise.reject(l()):await c(location.pathname,w,f)?Promise.reject(m()):(k.append("lib_version","4.4.1"),k.append("service_id",e),k.append("template_id",d),k.append("user_id",u),r("/api/v1.0/email/send-form",k))},EmailJSResponseStatus:e},p={serviceId:"service_7ogtp86",templateId:"template_exlgw4n",publicKey:"-uj5Hrh40AphZk8Q2",validateConfig(){return this.serviceId&&this.templateId&&this.publicKey},getConfig(){return{serviceId:this.serviceId,templateId:this.templateId,publicKey:this.publicKey}}};export{p as a,d as e};
